from django.db import models


class UserDeviceToken(models.Model):
    user_id = models.CharField(verbose_name="User Id", max_length=250,
                               db_index=True)
    device_id = models.TextField(verbose_name="Device Id")
    device_type = models.CharField(
        verbose_name="Device Type", max_length=250
    )
    token = models.TextField(verbose_name="Cloud Message Token")

    class Meta:
        app_label = "ib_notifications"
        unique_together = ['device_id', 'device_type']

    def __str__(self):
        return "{},{},{},{}".format(self.user_id, self.device_id,
                                    self.device_type, self.token)
