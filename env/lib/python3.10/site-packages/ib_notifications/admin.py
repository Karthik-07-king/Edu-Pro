# your django admin
from django.contrib import admin

from ib_notifications.models import UserDeviceToken, Notification, UserNotification
from ib_notifications.models import Group, GroupUser, FCMKeys


class UserDeviceTokenAdmin(admin.ModelAdmin):
    fieldsets = [
        ('User', {'fields': ['user_id']}),
        ('Device', {'fields': ['device_id', 'device_type']}),
        ('Cloud Message Token', {'fields': ['token']})
    ]

    list_display = ['user_id', 'device_id', 'device_type', 'token']
    list_filter = ['user_id']
    search_fields = ['device_id', 'device_type']


class GroupAdmin(admin.ModelAdmin):
    fieldsets = [
        ('Group Name', {'fields': ['name']}),
    ]
    search_fields = ['name']
    list_display = ['name']


class GroupUserAdmin(admin.ModelAdmin):
    fieldsets = [
        ('Group User', {'fields': ['group_id', 'user_id']}),
    ]
    list_filter = ['group_id']
    list_display = ['group_id', 'user_id']


class UserNotificationAdmin(admin.ModelAdmin):
    list_display = ("id", "notification", "read_at", "user_id", "is_deleted")
    list_editable = ("notification", "user_id", "is_deleted")


class FcmKeysAdmin(admin.ModelAdmin):
    list_display = ("id", "created_at")


admin.site.register(UserDeviceToken, UserDeviceTokenAdmin)
admin.site.register(Notification)
admin.site.register(UserNotification, UserNotificationAdmin)
admin.site.register(Group, GroupAdmin)
admin.site.register(GroupUser, GroupUserAdmin)
admin.site.register(FCMKeys, FcmKeysAdmin)