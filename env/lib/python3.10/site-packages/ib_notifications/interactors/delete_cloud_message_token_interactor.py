from ib_notifications.interactors.storages.storage_interface import \
    StorageInterface


class DeleteCloudMessageTokenInteractor:
    def __init__(self, storage: StorageInterface):
        self.storage = storage

    def delete_cloud_message_token_wrapper(self, user_id: str, device_id: str,
                                           device_type: str):
        self.delete_cloud_message_token(user_id=user_id, device_id=device_id,
                                        device_type=device_type)

    def delete_cloud_message_token(self, user_id: str, device_id: str,
                                   device_type: str):

        # TODO validations
        self.storage.delete_token_for_user_device(
            user_id=user_id,
            device_id=device_id,
            device_type=device_type
        )
