from ib_notifications.interactors.presenters.presenter_interface import \
    PresenterInterface
from ib_notifications.interactors.storages.storage_interface import \
    StorageInterface


class UnreadNotificationsCountInteractor:

    def __init__(self, storage: StorageInterface):
        self.storage = storage

    def get_unread_notifications_count_response(
            self, user_id: str, presenter: PresenterInterface):
        unread_notifications_count = self.get_unread_notifications_count(
            user_id=user_id)
        response = presenter.get_unread_notifications_count_response(
            unread_notifications_count=unread_notifications_count)

        return response

    def get_unread_notifications_count(self, user_id: str) -> int:
        unread_notifications_count = \
            self.storage.get_unread_notifications_count(user_id=user_id)
        return unread_notifications_count
