from dataclasses import asdict

from s3_uploader.app_interfaces import dtos as interface_dtos


class ServiceInterface:
    @staticmethod
    def get_s3_credentials(user_id: str) -> interface_dtos.S3CredentialsDTO:
        from s3_uploader.interactors.get_s3_credentials_for_user import \
            GetS3CredentialForUserInteractor

        interactor = GetS3CredentialForUserInteractor()
        s3_credentials = interactor.get_s3_credentials(user_id=user_id)

        return interface_dtos.S3CredentialsDTO(**asdict(s3_credentials))
