from typing import List

from ib_users.interactors.DTOs.common_dtos import UserIdsWithTotalDTO, \
    UserIdWithEmailIdDTO
from ib_users.interactors.storages.user_profile_storage import \
    UserProfileStorage


class GetUserIdsByEmailIdsInteractor:
    def __init__(self, profile_storage: UserProfileStorage):
        self.profile_storage = profile_storage

    def get_user_ids_by_email_ids_wrapper(self, email_ids: List[str]) \
            -> List[UserIdWithEmailIdDTO]:
        user_id_with_email_id_dtos = self.get_user_ids_by_email_ids(
            email_ids=email_ids
        )
        return user_id_with_email_id_dtos

    def get_user_ids_by_email_ids(self, email_ids: List[str]) \
            -> List[UserIdWithEmailIdDTO]:
        user_id_with_email_id_dtos = self.profile_storage \
            .get_user_ids_by_email_ids(email_ids=email_ids)

        return user_id_with_email_id_dtos
