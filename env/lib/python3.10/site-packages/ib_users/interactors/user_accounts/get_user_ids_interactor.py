from ib_users.interactors.DTOs.common_dtos import UserIdsWithTotalDTO
from ib_users.interactors.storages.user_profile_storage import \
    UserProfileStorage


class GetUserIdsInteractor:

    def __init__(self, profile_storage: UserProfileStorage):
        self.profile_storage = profile_storage

    def get_user_ids_wrapper(self, search_value: str, offset: int, limit: int) \
            -> UserIdsWithTotalDTO:
        user_ids_with_count_dto = self.get_user_ids(
            search_value=search_value, offset=offset, limit=limit
        )
        return user_ids_with_count_dto

    def get_user_ids(self, search_value: str, offset: int, limit: int) \
            -> UserIdsWithTotalDTO:
        user_ids_with_count_dto = self.profile_storage \
            .get_user_ids_by_name_or_email(search_value=search_value,
                                           offset=offset,
                                           limit=limit)
        return user_ids_with_count_dto
