from django.http.response import HttpResponse
from django_swagger_utils.drf_server.exceptions import BadRequest

from ib_users.interactors.presenters.login_with_phone_number_v1_presenter import LoginWithPhoneNumberV1Presenter


class LoginWithPhoneNumberV1JSONPresenter(LoginWithPhoneNumberV1Presenter):

    def get_success_response(self, response_dict: dict) -> HttpResponse:
        import json

        response_data = json.dumps(response_dict)
        response_object = HttpResponse(response_data, status=200)

        return response_object

    def get_error_response(self, error_message: str, error_res_status: str) -> HttpResponse:
        import json

        response_data = json.dumps({
            "response": error_message,
            "http_status_code": 400,
            "res_status": error_res_status
        })
        response_object = HttpResponse(response_data, status=400)

        return response_object
