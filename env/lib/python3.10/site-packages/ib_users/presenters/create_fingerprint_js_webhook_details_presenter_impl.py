import json

from django.http import HttpResponse

from ib_users.interactors.presenters.\
    create_fingerprint_js_webhook_details_presenter import \
    CreateFingerprintJsWebhookDetailsPresenter
from ib_users.validators.base_validator import CustomException


class CreateFingerprintJsWebhookDetailsPresenterImpl(
        CreateFingerprintJsWebhookDetailsPresenter):

    def get_success_response(self) -> HttpResponse:
        return HttpResponse(status=200)

    def get_custom_exception_response(
            self, err: CustomException) -> HttpResponse:
        data = json.dumps(
            {
                "response": err.error_message,
                "res_status": err.error_type,
                "http_status_code": 400
            }
        )

        return HttpResponse(data, status=400)
